Import(['env'])

tmpEnv = env.Clone()
env.Append(CXXFLAGS="-isystem include")

sources = Glob("*.cpp")

include = [
    '#/src',
    '.'
]

tmpEnv['CPPPATH'] = include

object_list = env.Object(source = sources)

task_name = 'Compiler.exe'
tmpEnv.jAlias('BuildCompiler', task_name, "Compiles and links the compiler")
tmpEnv.Depends(task_name, Glob("*.h"))
tmpEnv.Depends(task_name, Glob("*.hpp"))
tmpEnv.Program(task_name, object_list)
